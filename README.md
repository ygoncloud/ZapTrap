# ZapTrap
# DAST Vulnerable Application Example

This project provides a simple, intentionally vulnerable Node.js web application for
the purpose of demonstrating Dynamic Application Security Testing (DAST) with OWASP ZAP.

The application contains a reflected Cross-Site Scripting (XSS) vulnerability.

## Project Structure

- `app.js`: A minimal Express.js web server with a vulnerable search endpoint.
- `package.json`: Defines the project's Node.js dependencies.
- `Dockerfile`: Instructions to build a Docker image for the web application.
- `docker-compose.yml`: Orchestrates the startup of the web application (`webapp`), OWASP ZAP scanner (`zap`), and the results dashboard (`dashboard`).
- `dashboard/`: A Node.js application that provides a web interface to view the ZAP scan results from the JSON report.
- `zap-report/`: This directory is created to store the `report.html` and `report.json` files generated by the ZAP scan.

## How to Run the DAST Scan

This setup uses Docker and Docker Compose to automate the entire process.

### Prerequisites

- Docker
- Docker Compose

### Steps

1.  **Build and Run the Scan:**
    Navigate to the project's root directory and run the following command:
    ```bash
    docker-compose up
    ```
    This command will:
    - Build the `webapp` and `dashboard` Docker images.
    - Start the `webapp` and `dashboard` containers.
    - Start the `zap` container, which runs a full active scan against the webapp.
    - The `zap` container will exit automatically when the scan is complete.

2.  **View the Report:**
    Once the scan is finished, you can view the results in two ways:

    - **Interactive Dashboard (Recommended):**
      Navigate to the following URL in your browser:
      ```
      http://localhost:3001
      ```
      This dashboard provides a summary and detailed breakdown of the alerts from the `report.json` file.

    - **Static HTML Report:**
      A static report will be generated at `zap-report/report.html`. Open this file in a web browser to see the raw vulnerabilities ZAP discovered. You should find a "Cross-Site Scripting (Reflected)" alert.

3.  **Clean Up:**
    To stop and remove the containers, run:
    ```bash
    docker-compose down
    ```

## Manually Testing the Vulnerability

To see the XSS vulnerability in action, ensure the `webapp` is running and navigate to the following URL in your browser:

```
http://localhost:3000/?search=<script>alert('XSS')</script>
```

You should see a JavaScript alert pop up, confirming the vulnerability.
